{%- if include.slot -%}
  {%- assign slot-links = '' | split: '' -%}
  {%- for id in include.slot.id -%}
    {%- for cache-id in cache-ids -%}
      {%- if cache-id == id -%}
        {%- assign slot-links = slot-links | push: cache-links[forloop.index0] -%}
        {%- break -%}
      {%- endif -%}
      
      {%- if forloop.last -%}
        {%- assign cache-ids = cache-ids | push: id -%}
        {%- capture link -%}{% include docs/get-link.html id=id %}{%- endcapture -%}
        {%- assign cache-links = cache-links | push: link -%}
        {%- assign slot-links = slot-links | push: link -%}
      {%- endif -%}
    {%- endfor -%}
  {%- endfor -%}
  
  <div class="docs-item-slot{% if include.slot.id.size > 1 %} docs-cycle{% endif %}">
    {%- for id in include.slot.id -%}
      {%- assign link = slot-links[forloop.index0] -%}
      {%- if forloop.first -%}
        {% include docs/recipe/elements/item-icon.html id=id link=link count=include.slot.count chance=include.slot.chance %}
      {%- else -%}
        {% include docs/recipe/elements/item-icon.html id=id link=link hidden=true count=include.slot.count chance=include.slot.chance %}
      {%- endif -%}
    {%- endfor -%}
    {%- if include.slot.count > 0 and include.slot.count != 1 -%}
      <div class="docs-item-count">{{ include.slot.count }}</div>
    {%- elsif include.slot.chance -%}
      <div class="docs-item-count">{{ include.slot.chance }}</div>
    {%- endif -%}
  </div>
{%- else -%}
  <div class="docs-item-slot">
    {% include docs/recipe/elements/item-icon.html %}
  </div>
{%- endif -%}