{{ define "main" }}
  {{ with .Title }}<h1>{{ title . }}</h1>{{ end }}
  <div class="subtext">
    {{- with .Params.mods -}}
      {{- if reflect.IsSlice . -}}
        {{- delimit (apply . "title" ".") ", " -}}
      {{- else -}}
        {{- title . -}}
      {{- end -}}
    {{- end -}}{{- with .Params.version }} {{ . -}}{{- end -}}
  </div>
  <hr>
  {{- if gt (len (printf "%v" .TableOfContents)) 35 -}}
    <div class="table-contents">
      <h2>Table of Contents</h2>
      {{ .TableOfContents }}
    </div>
  {{- end -}}
  <article>
    {{/* TODO %- include docs/image.html -%*/}}
    {{- $version := (string (default "" .Params.version)) -}}
    
    {{ .Content }}
  </article>
{{ end }}

{{ define "pre" }}
  {{ $version := string (default "" .Params.version) }}
  {{ partialCached "docs/nav/navtabs" (dict "Page" . "mod" .Params.mods "version" $version) $version .Params.mods }}
{{ end }}

{{ define "post" }}
  {{ $version := string (default "" .Params.version) }}
  {{ partialCached "docs/nav/navbox" (dict "Page" . "mod" .Params.mods "version" $version) $version .Params.mods }}
{{ end }}

{{ define "scripts" }}
  <script src="{{(resources.Get `/js/docs.js` | resources.Minify).Permalink}}"></script>
{{ end }}