{{ define "main" }}
  {{ with .Title }}<h1>{{ title . }}</h1>{{ end }}
  <div class="subtext">
    {{- with .Params.mods -}}
      {{- if reflect.IsSlice . -}}
        {{- delimit (apply . "title" ".") ", " -}}
      {{- else -}}
        {{- title . -}}
      {{- end -}}
    {{- end -}}{{- with .Params.version }} {{ . -}}{{- end -}}
  </div>
  <hr />
  
  {{- with .Content -}}
    {{ . }}
    <hr />
  {{- end -}}
  
  <ul>
    {{ range .Pages }}
      <li><a href="{{.RelPermalink}}">{{.Title}}</a></li>
    {{ end }}
  </ul>
{{ end }}

{{ define "pre" }}
  {{ $version := string (default "" .Params.version) }}
  {{ partialCached "docs/nav/navtabs" (dict "Page" . "mod" .Params.mods "version" $version) $version .Params.mods }}
{{ end }}

{{ define "post" }}
  {{ $version := string (default "" .Params.version) }}
  {{ partialCached "docs/nav/navbox" (dict "Page" . "mod" .Params.mods "version" $version) $version .Params.mods }}
{{ end }}

{{ define "scripts" }}
  <script src="{{(resources.Get `/js/docs.js` | resources.Minify).Permalink}}"></script>
{{ end }}