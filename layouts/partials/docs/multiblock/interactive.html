{{/* Given a multiblock pattern and mapping, renders an interactive multiblock display.  */}}
<div class="multiblock-interactive">
  {{- $dimensions := .dimensions -}}
  {{- if not (reflect.IsSlice $dimensions) -}}
    {{- if and .x (and .y .z) -}}
      {{- $dimensions = slice .x .y .z -}}
    {{- else -}}
      {{- $dimensions = partial "docs/multiblock/dimensions" (dict "Page" .Page "pattern" .pattern) -}}
    {{- end -}}
  {{- end -}}
  {{- partial "docs/multiblock/render" (dict "Page" .Page "version" .version "pattern" .pattern "mapping" .mapping "dimensions" $dimensions) -}}
  <div class="multiblock-buttons">
    {{- range seq (index $dimensions 1) 1 -}}
      <button class="multiblock-layer-toggle" data-layer={{sub . 1}}>Layer&nbsp;{{.}}</button>
    {{- end -}}
  </div>
</div>