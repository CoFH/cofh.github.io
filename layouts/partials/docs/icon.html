{{/* Given a list of ids, displays a cycling icon for them. */}}

{{- if .ids -}}
  {{- $ids := .ids -}}
  {{- if not (reflect.IsSlice .ids) -}}
    {{- $ids = split .ids " " -}}
  {{- end -}}
  
  {{- if le (len $ids) 1 -}}
    {{- $coords := partial "util/map_get" (dict "data" .Page.Site.Data.docs "keys" (slice .version "items-fluids" (index $ids 0) "position")) -}}
    <div class="docs-icon docs-cycleable{{ with .hidden }} hidden{{ end }}" style="background-image:url('/images/docs/{{.version}}/sprites.png');{{ with $coords }} background-position:-{{mul (index . 0) 33}}px -{{mul (index . 1) 33}}px;{{ end }}{{ with .style }} {{.}}{{ end }}"></div>    
  {{- else -}}
    <div class="docs-icon docs-cycle">
      {{- $hidden := false -}}
      {{- range $ids -}}
        {{- partialCached "docs/icon" (dict "Page" $.Page "ids" . "version" $.version "style" $.style "hidden" $hidden) . $.style $hidden -}}
        {{- $hidden = true -}}
      {{- end -}}
    </div>
  {{- end -}}
{{- else -}}
  <div class="docs-icon docs-cycleable"></div>
{{- end -}}